package Task1;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
// Added for scrolling
import org.openqa.selenium.JavascriptExecutor;

import org.testng.annotations.AfterTest;
import org.testng.annotations.BeforeTest;
import org.testng.annotations.Test;

import io.github.bonigarcia.wdm.WebDriverManager;

public class Task1 {
	
	private WebDriver driver;
	
@BeforeTest
public void driversetup() {
    WebDriverManager.chromedriver().setup();
    driver = new ChromeDriver();
    driver.manage().window().maximize();}

@Test(priority = 1)
public void task1() {
	driver.get("https://automationexercise.com/");
	String exptitle = driver.getTitle();
	String acttitle = "Automation Exercise";
	if
		(exptitle.equals(acttitle))
		{System.out.println("Page title matched testcase passed");}
		else
		{System.out.println("Page title mismatched testcase failed");}}

@Test(priority = 2)//Assert the home page logo/navigation is visible.
public void task2() {
	WebElement logo = driver.findElement(By.xpath("//img[@alt='Website for automation practice']"));
	if
	(logo.isDisplayed())
	{System.out.println("logo is visible");}
	else
	{System.out.println("logo is visible");}}

@Test(priority = 3)
public void task3() throws InterruptedException {
	WebElement signup = driver.findElement(By.xpath("//a[normalize-space()='Signup / Login']"));
	signup.click();
	Thread.sleep(500);
	//driver.get("https://automationexercise.com/login");
	WebElement email = driver.findElement(By.xpath("//input[@data-qa='login-email']"));
	email.sendKeys("afsall@gmail.cm");
	WebElement password = driver.findElement(By.xpath("//input[@placeholder='Password']"));
	password.sendKeys("aabbcc");
	WebElement Login = driver.findElement(By.xpath("//button[normalize-space()='Login']"));
	Login.click();
	
	String acturl = driver.getCurrentUrl();
	String expurl = "https://automationexercise.com";
	
	if
		(acturl.equals(expurl))
		{System.out.println("Logged in successfully");}
		else
		{System.out.println("Logged in unsuccessfull");}
	
}

@Test(priority = 4)
public void task4() throws InterruptedException {
	
	WebElement product = driver.findElement(By.xpath("//a[@href='/products']"));
	product.click();
	JavascriptExecutor js = (JavascriptExecutor) driver;

	js.executeScript("window.scrollBy(0, 600)");
	
	Thread.sleep(1000);
	WebElement addcart = driver.findElement(By.xpath("//div[@class='col-sm-9 padding-right']//div[2]//div[1]//div[1]//div[2]//div[1]//a[1]"));
	addcart.click();
	Thread.sleep(2000);
	WebElement cntnue = driver.findElement(By.xpath("//button[normalize-space()='Continue Shopping']"));
	cntnue.click();
	Thread.sleep(2000);
	

	// Added: scroll up to the top
	js.executeScript("window.scrollTo(0, 0)");
	// (Alternative: js.executeScript("window.scrollBy(0, -600)");)
}


@Test(priority = 5)
public void task5() throws InterruptedException {
	WebElement cart = driver.findElement(By.xpath("//a[normalize-space()='Cart']"));
	cart.click();
	Thread.sleep(1000);
	WebElement item = driver.findElement(By.xpath("//a[normalize-space()='Blue Top']"));
	//checking item
		String acttext = item.getText();
		String exptext = "Blue Top";
		if
			(acttext.equals(exptext))
			{System.out.println("Item matched testcase passed");}
			else
			{System.out.println("Item mismatched testcase failed");}
		
	WebElement quantity = driver.findElement(By.xpath("//button[normalize-space()='1']"));
	//checking quantity
		String actquantity = quantity.getText();
		String expquantity = "1";
		if
			(actquantity.equals(expquantity))
			{System.out.println("Quantity matched testcase passed");}
			else
			{System.out.println("Quantity mismatched testcase failed");}
		
	WebElement Price = driver.findElement(By.xpath("//p[@class='cart_total_price']"));
	//checking price
	String actprice = Price.getText();
	String expprice= "500";
	if
		(actprice.equals(expprice))
		{System.out.println("Price matched testcase passed");}
		else
		{System.out.println("Price mismatched testcase failed");}}

@Test(priority = 6)
public void task6() {
	WebElement Checkout = driver.findElement(By.xpath("//a[normalize-space()='Proceed To Checkout']"));
	Checkout.click();
	
	String actresult = driver.getCurrentUrl();
	String expresult = "https://automationexercise.com/checkout";
	if
		(actresult.equals(expresult))
		{System.out.println("url matched testcase passed");}
		else
		{System.out.println("url mismatched testcase failed");}}


@Test(priority = 7)
public void task7() {
	WebElement logout = driver.findElement(By.xpath("//a[normalize-space()='Logout']"));
	logout.click();
	
	String acturl = driver.getCurrentUrl();
	String expurl = "https://automationexercise.com/login";
	if
		(acturl.equals(expurl))
		{System.out.println("url matched testcase passed");}
		else
		{System.out.println("url mismatched testcase failed");}}

@AfterTest
public void exit() {
	driver.quit();
}
}
